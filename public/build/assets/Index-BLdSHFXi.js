import{j as b,k as y,o as r,e as d,b as g,w as h,a as e,n as F,t as i,h as x,l as w,d as m,i as I,F as E,g as z,c as N}from"./app-CGrFRThM.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as B}from"./AppLayoutAdmin-OohDStXw.js";import"./IconCofingBranco-b62jRgVI.js";const S={props:{isModalOpen:Boolean,empresaId:Number},data(){return{detalhesEmpresa:null,isDeleteModalOpen:!1}},watch:{empresaId(c){c&&this.fetchDetalhesEmpresa(c)}},methods:{async fetchDetalhesEmpresa(c){try{const t=await b.get(`/api/empresas/detalhes/${c}`);t.data.success&&(this.detalhesEmpresa=t.data.empresa)}catch(t){console.error("Erro ao buscar os detalhes da empresa:",t)}},closeModal(){this.$emit("update:isModalOpen",!1)},openDeleteConfirmationModal(){this.isDeleteModalOpen=!0},closeDeleteConfirmationModal(){this.isDeleteModalOpen=!1},async deleteEmpresa(c){try{(await b.delete(`/api/empresas/deletar/${c}`)).data.success?(this.$emit("update:isModalOpen",!1),this.$emit("updateComponents"),y.success("Empresa excluída com sucesso")):y.error("Erro ao excluir a empresa")}catch(t){console.error("Erro ao excluir a empresa:",t),y.error("Erro ao excluir a empresa")}finally{this.isDeleteModalOpen=!1}}}},A={key:0,class:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex justify-end items-start"},L={class:"flex justify-between items-center border-b pb-4 mb-6"},T={class:"text-2xl font-semibold flex items-center space-x-2"},V={class:"material-icons text-blue-500"},J={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:{fill:"rgba(8, 118, 178, 1)",transform:"0",msfilter:""}},P={key:0},U={class:"grid grid-cols-8 gap-4 mb-6 flex justify-between text-center"},q={class:"col-span-2"},R={class:"font-semibold text-gray-800"},W={class:"col-span-2"},G={class:"font-semibold text-gray-800"},H={class:"col-span-2"},K={class:"font-semibold text-gray-800"},Q={class:"col-span-2"},X={class:"font-semibold text-gray-800"},Y={class:"border-t pt-4 mb-6"},Z={class:"grid grid-cols-2 gap-4"},ee={class:"font-semibold text-gray-800 text-right"},te={class:"font-semibold text-blue-500 text-right"},se=["href"],oe={class:"mt-6 flex justify-center"},ae={key:0,class:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex justify-center items-center"},le={class:"bg-white p-8 rounded-lg shadow-xl w-96 max-w-sm transform transition-all duration-300 ease-in-out animate-modal"},re={class:"flex justify-between"};function ne(c,t,n,f,o,a){return r(),d("div",null,[g(w,{name:"slide"},{default:h(()=>[n.isModalOpen?(r(),d("div",A,[e("div",{class:F(["modal-content w-1/2 bg-white h-full p-6 overflow-y-auto transform transition-transform rounded-lg shadow-lg",{"slide-from-right":n.isModalOpen,"slide-to-right":!n.isModalOpen}])},[e("div",L,[e("h2",T,[e("span",V,[(r(),d("svg",J,t[4]||(t[4]=[e("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},null,-1),e("path",{d:"M11 11h2v6h-2zm0-4h2v2h-2z"},null,-1)])))]),t[5]||(t[5]=e("span",{class:"text-gray-800"},"Detalhes da Empresa",-1))]),e("button",{onClick:t[0]||(t[0]=(...p)=>a.closeModal&&a.closeModal(...p)),class:"close-button absolute top-4 right-4 text-gray-500"},t[6]||(t[6]=[e("i",{class:"fas fa-times"},null,-1)]))]),o.detalhesEmpresa?(r(),d("div",P,[e("div",U,[e("div",q,[t[7]||(t[7]=e("p",{class:"text-gray-600 uppercase text-xs"},"Nome",-1)),e("p",R,i(o.detalhesEmpresa.name),1)]),e("div",W,[t[8]||(t[8]=e("p",{class:"text-gray-600 uppercase text-xs"},"CNPJ",-1)),e("p",G,i(o.detalhesEmpresa.cnpj),1)]),e("div",H,[t[9]||(t[9]=e("p",{class:"text-gray-600 uppercase text-xs"},"Endereço",-1)),e("p",K,i(o.detalhesEmpresa.address),1)]),e("div",Q,[t[10]||(t[10]=e("p",{class:"text-gray-600 uppercase text-xs"},"Celular",-1)),e("p",X,i(o.detalhesEmpresa.phone),1)])]),e("div",Y,[t[13]||(t[13]=e("h3",{class:"font-semibold text-lg mb-4 flex items-center space-x-2"},[e("span",{class:"text-gray-800"},"Resumo de Contato")],-1)),e("div",Z,[t[11]||(t[11]=e("div",{class:"text-gray-600"},"E-mail",-1)),e("div",ee,i(o.detalhesEmpresa.email),1),t[12]||(t[12]=e("div",{class:"text-gray-600"},"Website",-1)),e("div",te,[e("a",{href:o.detalhesEmpresa.website,target:"_blank"},i(o.detalhesEmpresa.website),9,se)])])]),e("div",oe,[e("button",{class:"text-red-500 px-4 py-2 rounded-md flex items-center font-bold",onClick:t[1]||(t[1]=(...p)=>a.openDeleteConfirmationModal&&a.openDeleteConfirmationModal(...p))},t[14]||(t[14]=[e("i",{class:"fa fa-trash text-red-500"},null,-1),e("span",{class:"me-2"},"Excluir Empresa",-1)]))])])):x("",!0)],2)])):x("",!0)]),_:1}),g(w,{name:"fade"},{default:h(()=>[o.isDeleteModalOpen?(r(),d("div",ae,[e("div",le,[t[15]||(t[15]=e("h3",{class:"text-xl font-semibold mb-4 text-center"}," Tem certeza que deseja excluir esta empresa? ",-1)),t[16]||(t[16]=e("p",{class:"mb-6 text-gray-600"},"Essa ação não pode ser desfeita.",-1)),e("div",re,[e("button",{onClick:t[2]||(t[2]=p=>a.deleteEmpresa(o.detalhesEmpresa.id)),class:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 w-full mr-2"}," Comfirmar "),e("button",{onClick:t[3]||(t[3]=(...p)=>a.closeDeleteConfirmationModal&&a.closeDeleteConfirmationModal(...p)),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 w-full"}," Cancelar ")])])])):x("",!0)]),_:1})])}const ie=v(S,[["render",ne],["__scopeId","data-v-55c7a782"]]),de={class:"col-12 mt-5"},ce={class:"min-w-full table-auto bg-white rounded-lg shadow-lg overflow-hidden"},pe={key:0},ue=["onClick"],me={class:"px-6 py-4 text-sm text-gray-700 text-center"},xe={class:"px-6 py-4 text-sm text-gray-700 text-center"},fe={class:"px-6 py-4 text-sm text-gray-700 text-center"},ge={class:"px-6 py-4 text-sm text-gray-700 text-center"},ye={class:"px-6 py-4 text-sm text-gray-700 text-center"},be=["onClick"],he={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50"},ve={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-3xl transform transition-all duration-300 ease-in-out"},_e={class:"mb-4 flex space-x-4 justify-center"},we={__name:"ListaEmpresas",setup(c){const t=m([]),n=m(!1),f=m(!1),o=m(null),a=m(!1),p=()=>{a.value=!0},C=()=>{a.value=!1},_=u=>{},M=()=>{},k=u=>{o.value=u,f.value=!0},D=u=>{},O=()=>{},j=async()=>{n.value=!0;try{const u=await b.get("/api/empresas");t.value=u.data.data}catch(u){console.error("Erro ao buscar empresas:",u)}finally{n.value=!1}};return I(()=>{j()}),(u,s)=>(r(),d(E,null,[e("div",{class:"grid grid-cols-3 gap-4 mt-12"},[s[4]||(s[4]=e("div",{class:"col-span-2"},null,-1)),e("div",null,[e("button",{onClick:p,class:"p-3 bg-gray-400 text-white rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full flex items-center justify-center space-x-2 transition-colors duration-200"},s[3]||(s[3]=[e("i",{class:"fas fa-filter"},null,-1),e("span",null,"Filtro",-1)]))])]),e("div",de,[e("table",ce,[s[6]||(s[6]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}," Nome da Empresa "),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}," CNPJ "),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}," Cidade "),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}," Ação ")])],-1)),e("tbody",null,[n.value?(r(),d("tr",pe,s[5]||(s[5]=[e("td",{colspan:"5",class:"text-center py-4 text-gray-500"}," Carregando... ",-1)]))):x("",!0),(r(!0),d(E,null,z(t.value,l=>(r(),d("tr",{key:l.id,class:"cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:$=>k(l.id)},[e("td",me,i(l.name),1),e("td",xe,i(l.cnpj),1),e("td",fe,i(l.city),1),e("td",ge,i(l.status),1),e("td",ye,[e("button",{onClick:$=>D(l.id),class:"text-blue-600 hover:text-blue-800"}," Editar ",8,be)])],8,ue))),128))])]),g(ie,{isModalOpen:f.value,modalTitle:"Detalhes da Empresa",empresaId:o.value,onUpdateComponents:O,"onUpdate:isModalOpen":s[0]||(s[0]=l=>f.value=l)},null,8,["isModalOpen","empresaId"])]),a.value?(r(),d("div",he,[e("div",ve,[s[7]||(s[7]=e("h2",{class:"text-xl font-semibold mb-6 text-center text-gray-800"}," Filtro de Empresas ",-1)),e("div",_e,[e("button",{onClick:s[1]||(s[1]=l=>_()),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Ativo "),e("button",{onClick:s[2]||(s[2]=l=>_()),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Inativo ")]),e("div",{class:"mt-6 flex justify-between"},[e("button",{onClick:C,class:"px-6 py-2 bg-gray-300 w-full mr-2 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Fechar "),e("button",{onClick:M,class:"px-6 py-2 bg-blue-500 w-full text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Aplicar Filtro ")])])])):x("",!0)],64))}},Ee=v(we,[["__scopeId","data-v-47c7b3ac"]]),Ce={class:"flex flex-1"},Me={class:"content-wrapper flex-1 bg-gray-100 p-4"},ke={class:"content"},De={class:"container-fluid"},Oe={__name:"Index",setup(c){return(t,n)=>(r(),N(B,{title:"Clientes"},{default:h(()=>[e("div",Ce,[e("div",Me,[e("section",ke,[e("div",De,[n[0]||(n[0]=e("div",{class:"row"},[e("div",{class:"col-12"},[e("h1",{class:"text-2xl font-bold text-red-900 flex items-center"}," Clientes "),e("p",{class:"text-gray-600 mt-2"},"Bem-vindo, Administrador!")])],-1)),g(Ee)])])])])]),_:1}))}},ze=v(Oe,[["__scopeId","data-v-91a44028"]]);export{ze as default};
