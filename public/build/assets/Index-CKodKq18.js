import{d as x,i as _,o as r,c as h,w as m,a as t,e as c,g as y,t as a,n as b,F as g,j as i}from"./app-CGrFRThM.js";import{_ as f}from"./AppLayoutAdmin-OohDStXw.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconCofingBranco-b62jRgVI.js";const k={class:"container mx-auto py-6"},w={class:"table-auto w-full bg-white shadow-md rounded"},$={class:"border px-4 py-2"},C={class:"border px-4 py-2"},B={class:"border px-4 py-2"},I={class:"border px-4 py-2"},A={class:"border px-4 py-2"},E={class:"border px-4 py-2"},P=["onClick"],S=["onClick"],z={__name:"Index",setup(M){const n=x([]),l=async()=>{var o;try{const s=await i.get("/api/admin/assinaturas",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n.value=s.data}catch(s){console.error("Erro ao buscar planos:",((o=s.response)==null?void 0:o.data)||s)}},d=(o,s=null)=>{console.log(o,s)},p=async o=>{var s;try{await i.delete(`/api/admin/assinaturas/${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),l()}catch(e){console.error("Erro ao excluir plano:",((s=e.response)==null?void 0:s.data)||e)}};return _(()=>{l()}),(o,s)=>(r(),h(f,{title:"Planos"},{default:m(()=>[t("div",k,[s[2]||(s[2]=t("h1",{class:"text-2xl font-bold mb-4"},"Lista de Planos",-1)),t("button",{class:"bg-blue-500 text-white px-4 py-2 rounded mb-4",onClick:s[0]||(s[0]=e=>d("create"))}," Adicionar Novo Plano "),t("table",w,[s[1]||(s[1]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Nome"),t("th",{class:"px-4 py-2"},"Valor Mensal"),t("th",{class:"px-4 py-2"},"Valor Total"),t("th",{class:"px-4 py-2"},"Dias"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2"},"Ações")])],-1)),t("tbody",null,[(r(!0),c(g,null,y(n.value,e=>(r(),c("tr",{key:e.id,class:"text-center"},[t("td",$,a(e.nome),1),t("td",C,"R$ "+a(e.valor_mensal),1),t("td",B,"R$ "+a(e.valor_total),1),t("td",I,a(e.dias)+" dias",1),t("td",A,[t("span",{class:b({"text-green-500":e.status,"text-red-500":!e.status})},a(e.status?"Ativo":"Inativo"),3)]),t("td",E,[t("button",{class:"bg-yellow-500 text-white px-3 py-1 rounded mr-2",onClick:u=>d("edit",e)}," Editar ",8,P),t("button",{class:"bg-red-500 text-white px-3 py-1 rounded",onClick:u=>p(e.id)}," Excluir ",8,S)])]))),128))])])])]),_:1}))}},L=v(z,[["__scopeId","data-v-212b76ee"]]);export{L as default};
